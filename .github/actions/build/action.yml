name: 'Build'
description: 'Builds the project into an executable and runs tests'

runs:
  using: 'composite'

  steps:
    - run: |
        mkdir release && cd release
        cmake -DCMAKE_BUILD_TYPE=Release ..
        cmake --build .
        make test
      shell: bash

    -run: |
        mkdir debug && cd debug
        cmake -DCMAKE_BUILD_TYPE=Debug ..
        cmake --build .
      shell: bash
